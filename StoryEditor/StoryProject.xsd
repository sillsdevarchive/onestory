<?xml version="1.0" encoding="utf-8" ?>
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema"
	xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" version="0.1">
	<xs:element name="StoryProject">
		<xs:complexType>
			<xs:sequence>
				<xs:element name="stories" minOccurs="1" maxOccurs="unbounded">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Members" minOccurs="0" maxOccurs="1">
								<xs:complexType>
									<xs:choice maxOccurs="unbounded">
										<xs:element name="Member" maxOccurs="unbounded">
											<xs:complexType>
												<xs:attribute name="name" type="xs:string" use="required" />
												<xs:attribute name="memberType" type="MemberType" use="required" />
												<xs:attribute name="email" type="xs:string" use="optional" />
												<xs:attribute name="altPhone" type="xs:string" use="optional" />
												<xs:attribute name="phone" type="xs:string" use="optional" />
												<xs:attribute name="address" type="xs:string" use="optional" />
												<xs:attribute name="skypeID" type="xs:string" use="optional" />
												<xs:attribute name="teamViewerID" type="xs:string" use="optional" />
												<xs:attribute name="memberKey" type="xs:ID" use="required" />
											</xs:complexType>
										</xs:element>
									</xs:choice>
								</xs:complexType>
							</xs:element>
							<xs:element name="Languages" minOccurs="0" maxOccurs="1">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="VernacularLang" type="LanguageInfo" minOccurs="1" maxOccurs="1" />
										<xs:element name="NationalBTLang" type="LanguageInfo" maxOccurs="1" />
										<xs:element name="InternationalBTLang" type="LanguageInfo" maxOccurs="1" />
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="story" minOccurs="0" maxOccurs="unbounded">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="CraftingInfo" minOccurs="1" maxOccurs="1">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="StoryCrafter" maxOccurs="1" minOccurs="1">
														<xs:complexType>
															<xs:attribute name="memberID" type="xs:IDREF" use="optional" />
														</xs:complexType>
													</xs:element>
													<xs:element name="StoryPurpose" minOccurs="0" maxOccurs="1" type="xs:string" />
													<xs:element name="ResourcesUsed" minOccurs="0" maxOccurs="1" type="xs:string" />
													<xs:element name="BackTranslator" minOccurs="1" maxOccurs="1">
														<xs:complexType>
															<xs:attribute name="memberID" type="xs:IDREF" use="optional" />
														</xs:complexType>
													</xs:element>
													<xs:element name="Tests" minOccurs="0" maxOccurs="1">
														<xs:complexType>
															<xs:sequence>
																<xs:element name="Test" maxOccurs="unbounded">
																	<xs:complexType>
																		<xs:attribute name="number" type="xs:unsignedByte" use="required" />
																		<xs:attribute name="memberID" type="xs:IDREF" use="optional" />
																	</xs:complexType>
																</xs:element>
															</xs:sequence>
														</xs:complexType>
													</xs:element>
												</xs:sequence>
												<xs:attribute name="NonBiblicalStory" type="xs:boolean" use="optional" />
											</xs:complexType>
										</xs:element>
										<xs:element name="verses" minOccurs="1" maxOccurs="1">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="verse" maxOccurs="unbounded">
														<xs:complexType>
															<xs:sequence>
																<xs:element name="Vernacular" minOccurs="0" maxOccurs="1" type="xs:string" />
																<xs:element name="NationalBT" minOccurs="0" maxOccurs="1" type="xs:string" />
																<xs:element name="InternationalBT" minOccurs="0" maxOccurs="1" type="xs:string" />
																<xs:element name="anchors" minOccurs="1" maxOccurs="1">
																	<xs:complexType>
																		<xs:sequence>
																			<xs:element maxOccurs="unbounded" name="anchor">
																				<xs:complexType>
																					<xs:sequence>
																						<xs:element name="toolTip" type="xs:string" minOccurs="0" maxOccurs="1" />
																						<xs:element name="exegeticalHelps" minOccurs="0" maxOccurs="1">
																							<xs:complexType>
																								<xs:sequence>
																									<xs:element name="exegeticalHelp" minOccurs="0" maxOccurs="unbounded" type="xs:string" />
																								</xs:sequence>
																							</xs:complexType>
																						</xs:element>
																					</xs:sequence>
																					<xs:attribute name="jumpTarget" type="xs:string" use="required" />
																				</xs:complexType>
																			</xs:element>
																		</xs:sequence>
																		<xs:attribute name="keyTermChecked" type="xs:boolean" />
																	</xs:complexType>
																</xs:element>
																<xs:element name="TestQuestions" minOccurs="0" maxOccurs="1">
																	<xs:complexType>
																		<xs:sequence>
																			<xs:element name="TestQuestion" minOccurs="0" maxOccurs="unbounded">
																				<xs:complexType>
																					<xs:sequence>
																						<xs:element name="TQVernacular" minOccurs="0" maxOccurs="1" type="xs:string" />
																						<xs:element name="TQNationalBT" minOccurs="0" maxOccurs="1" type="xs:string" />
																						<xs:element name="TQInternationalBT" minOccurs="0" maxOccurs="1" type="xs:string" />
																						<xs:element name="Answers" minOccurs="0" maxOccurs="1">
																							<xs:complexType>
																								<xs:sequence>
																									<xs:element name="answer" minOccurs="0" maxOccurs="unbounded">
																										<xs:complexType>
																											<xs:simpleContent>
																												<xs:extension base="xs:string">
																													<xs:attribute name="memberID" type="xs:IDREF" use="optional" />
																												</xs:extension>
																											</xs:simpleContent>
																										</xs:complexType>
																									</xs:element>
																								</xs:sequence>
																							</xs:complexType>
																						</xs:element>
																					</xs:sequence>
																					<xs:attribute name="visible" type="xs:boolean" />
																				</xs:complexType>
																			</xs:element>
																		</xs:sequence>
																	</xs:complexType>
																</xs:element>
																<xs:element name="Retellings" minOccurs="0" maxOccurs="1">
																	<xs:complexType>
																		<xs:sequence>
																			<xs:element name="Retelling" minOccurs="0" maxOccurs="unbounded">
																				<xs:complexType>
																					<xs:simpleContent>
																						<xs:extension base="xs:string">
																							<xs:attribute name="memberID" type="xs:IDREF" use="optional" />
																						</xs:extension>
																					</xs:simpleContent>
																				</xs:complexType>
																			</xs:element>
																		</xs:sequence>
																	</xs:complexType>
																</xs:element>
																<xs:element name="ConsultantNotes" minOccurs="0" maxOccurs="1">
																	<xs:complexType>
																		<xs:sequence>
																			<xs:element name="ConsultantConversation" minOccurs="1" maxOccurs="unbounded">
																				<xs:complexType>
																					<xs:sequence>
																						<xs:element name="ConsultantNote" minOccurs="1" maxOccurs="unbounded" type="Comment" />
																					</xs:sequence>
																					<xs:attribute name="round" type="xs:unsignedByte" use="required" />
																					<xs:attribute name="visible" type="xs:boolean" />
																				</xs:complexType>
																			</xs:element>
																		</xs:sequence>
																	</xs:complexType>
																</xs:element>
																<xs:element name="CoachNotes" minOccurs="0" maxOccurs="1">
																	<xs:complexType>
																		<xs:sequence>
																			<xs:element name="CoachConversation" minOccurs="1" maxOccurs="unbounded">
																				<xs:complexType>
																					<xs:sequence>
																						<xs:element name="CoachNote" minOccurs="1" maxOccurs="unbounded" type="Comment" />
																					</xs:sequence>
																					<xs:attribute name="round" type="xs:unsignedByte" use="required" />
																					<xs:attribute name="visible" type="xs:boolean" />
																				</xs:complexType>
																			</xs:element>
																		</xs:sequence>
																	</xs:complexType>
																</xs:element>
															</xs:sequence>
															<xs:attribute name="guid" type="xs:string" use="required" />
														</xs:complexType>
													</xs:element>
												</xs:sequence>
											</xs:complexType>
										</xs:element>
									</xs:sequence>
									<xs:attribute name="name" type="xs:string" use="required" />
									<xs:attribute name="stage" type="ProjectStages" use="required" />
									<xs:attribute name="guid" type="xs:string" use="required" />
								</xs:complexType>
							</xs:element>
						</xs:sequence>
						<xs:attribute name="ProjectName" type="xs:string" use="required" />
					</xs:complexType>
				</xs:element>
			</xs:sequence>
		</xs:complexType>
		<xs:key name="MemberKey" msdata:PrimaryKey="true">
			<xs:selector xpath=".//Member" />
			<xs:field xpath="@memberKey" />
		</xs:key>
		<xs:key name="StoryKey" msdata:PrimaryKey="true">
			<xs:selector xpath=".//story" />
			<xs:field xpath="@name" />
		</xs:key>
		<xs:key name="VerseKey" msdata:PrimaryKey="true">
			<xs:selector xpath=".//verse" />
			<xs:field xpath="@guid" />
		</xs:key>
	</xs:element>
	<xs:simpleType name="MemberType">
		<xs:restriction base="xs:string">
			<xs:enumeration value="Crafter" />
			<xs:enumeration value="EnglishBackTranslator" />
			<xs:enumeration value="UNS" />
			<xs:enumeration value="ProjectFacilitator" />
			<xs:enumeration value="ConsultantInTraining" />
			<xs:enumeration value="Coach" />
			<xs:enumeration value="JustLooking" />
		</xs:restriction>
	</xs:simpleType>
	<xs:simpleType name="ProjectStages">
		<xs:restriction base="xs:string">
			<xs:enumeration value="CrafterTypeVernacular" />
			<xs:enumeration value="CrafterTypeNationalBT" />
			<xs:enumeration value="CrafterTypeInternationalBT" />
			<xs:enumeration value="CrafterAddAnchors" />
			<xs:enumeration value="CrafterCheckKeyTerms" />
			<xs:enumeration value="CrafterAddStoryQuestions" />
			<xs:enumeration value="BackTranslatorTypeInternationalBT" />
			<xs:enumeration value="ConsultantCheckNonBiblicalStory" />
			<xs:enumeration value="ConsultantCheckStoryInfo" />
			<xs:enumeration value="ConsultantCheckAnchors" />
			<xs:enumeration value="ConsultantCheckStoryQuestions" />
			<xs:enumeration value="CoachReviewRound1Notes" />
			<xs:enumeration value="ConsultantReviseRound1Notes" />
			<xs:enumeration value="CrafterReviseBasedOnRound1Notes" />
			<xs:enumeration value="CrafterOnlineReview1WithConsultant" />
			<xs:enumeration value="CrafterReadyForTest1" />
			<xs:enumeration value="CrafterEnterAnswersToStoryQuestionsOfTest1" />
			<xs:enumeration value="CrafterEnterRetellingOfTest1" />
			<xs:enumeration value="ConsultantCheckAnchorsRound2" />
			<xs:enumeration value="ConsultantCheckAnswersToTestingQuestionsRound2" />
			<xs:enumeration value="ConsultantCheckRetellingRound2" />
			<xs:enumeration value="CoachReviewRound2Notes" />
			<xs:enumeration value="ConsultantReviseRound2Notes" />
			<xs:enumeration value="CrafterReviseBasedOnRound2Notes" />
			<xs:enumeration value="CrafterOnlineReview2WithConsultant" />
			<xs:enumeration value="CrafterReadyForTest2" />
			<xs:enumeration value="CrafterEnterAnswersToStoryQuestionsOfTest2" />
			<xs:enumeration value="CrafterEnterRetellingOfTest2" />
			<xs:enumeration value="ConsultantReviewTest2" />
			<xs:enumeration value="CoachReviewTest2Notes" />
			<xs:enumeration value="TeamComplete" />
		</xs:restriction>
	</xs:simpleType>
	<xs:complexType name="LanguageInfo">
		<xs:sequence />
		<xs:attribute name="name" type="xs:string" use="required" />
		<xs:attribute name="code" type="xs:string" use="required" />
		<xs:attribute name="FontName" type="xs:string" use="required" />
		<xs:attribute name="FontSize" type="xs:float" use="required" />
		<xs:attribute name="FontColor" type="xs:string" use="required" />
		<xs:attribute name="SentenceFinalPunct" type="xs:string" use="required" />
		<xs:attribute name="Keyboard" type="xs:string" />
		<xs:attribute name="RTL" type="xs:boolean" />
	</xs:complexType>
	<xs:simpleType name="FromTo">
		<xs:restriction base="xs:string">
			<xs:enumeration value="ConsultantToCrafter" />
			<xs:enumeration value="CrafterToConsultant" />
			<xs:enumeration value="ConsultantToCoach" />
			<xs:enumeration value="CoachToConsultant" />
		</xs:restriction>
	</xs:simpleType>
	<xs:complexType name="Comment">
		<xs:simpleContent>
			<xs:extension base="xs:string">
				<xs:attribute name="Direction" type="FromTo" use="required" />
				<xs:attribute name="guid" type="xs:string" use="required" />
			</xs:extension>
		</xs:simpleContent>
	</xs:complexType>
</xs:schema>